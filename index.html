<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Corny Stories</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #fefefe;
      margin: 0;
      padding: 0;
      color: #333;
    }
    header {
      background: #6c63ff;
      color: white;
      padding: 1rem;
      text-align: center;
      font-size: 2rem;
      font-weight: bold;
      letter-spacing: 2px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.15);
    }
    nav {
      display: flex;
      background: #f0f0f5;
      border-bottom: 1px solid #ddd;
      justify-content: center;
    }
    nav button {
      background: none;
      border: none;
      padding: 1rem 2rem;
      font-size: 1rem;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    nav button:hover, nav button.active {
      background-color: #6c63ff;
      color: white;
    }
    main {
      max-width: 900px;
      margin: 2rem auto;
      padding: 0 1rem;
    }
    h1.story-title {
      font-size: 1.8rem;
      margin-bottom: 1rem;
      color: #6c63ff;
    }
    .story-content {
      white-space: pre-wrap;
      line-height: 1.5;
      font-size: 1.1rem;
      background: #fafafa;
      border-left: 5px solid #6c63ff;
      padding: 1rem 1.5rem;
      border-radius: 5px;
      box-shadow: 0 1px 3px rgb(0 0 0 / 0.1);
      margin-bottom: 1rem;
    }
    .author {
      font-weight: 600;
      font-size: 0.9rem;
      color: #555;
      margin-bottom: 0.7rem;
    }
    form {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    label {
      font-weight: 600;
      font-size: 1.1rem;
    }
    input[type="text"], textarea {
      padding: 0.75rem;
      font-size: 1rem;
      border: 1.5px solid #ccc;
      border-radius: 4px;
      resize: vertical;
      min-height: 120px;
    }
    textarea {
      min-height: 150px;
    }
    button.submit-btn {
      max-width: 150px;
      padding: 0.7rem 1rem;
      background-color: #6c63ff;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-weight: 700;
      transition: background-color 0.3s ease;
    }
    button.submit-btn:hover {
      background-color: #5548c8;
    }
    .stories-list {
      margin-top: 2rem;
    }
    .story-item {
      border: 1px solid #ddd;
      border-radius: 5px;
      padding: 1rem;
      margin-bottom: 1rem;
      background: #fff;
      box-shadow: 0 1px 4px rgb(0 0 0 / 0.05);
      position: relative;
    }
    .story-item h3 {
      margin: 0 0 0.5rem 0;
      color: #6c63ff;
    }
    .delete-btn {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: #ff4d4d;
      border: none;
      color: white;
      padding: 0.3rem 0.6rem;
      border-radius: 3px;
      cursor: pointer;
      font-weight: 700;
      font-size: 0.85rem;
    }
    .delete-btn:hover {
      background: #cc0000;
    }
    .audio-btn {
      margin-top: 1rem;
      padding: 0.5rem 1rem;
      background-color: #6c63ff;
      border: none;
      border-radius: 4px;
      color: white;
      cursor: pointer;
      font-weight: 600;
      transition: background-color 0.3s ease;
    }
    .audio-btn:hover {
      background-color: #5548c8;
    }
    footer {
      text-align: center;
      padding: 1rem;
      margin-top: 3rem;
      border-top: 1px solid #ddd;
      color: #777;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>
  <header>Corny Stories</header>
  <nav>
    <button id="btnStory" class="active">Three's a Fever + User Stories</button>
    <button id="btnAddStory">Add More Stories</button>
  </nav>

  <main>
    <!-- Story content container -->
    <section id="storySection">
      <h1 class="story-title">Three's a Fever</h1>
      <div id="defaultStory" class="story-content">
        <div class="author">Authors: Addisyn Holley, Jordan Schaller, and Donovan Schaller</div>
        The music pulsed low through the dim living room, amber lights painting soft shadows on the walls. Addisyn sat curled into the corner of the couch, legs crossed, wine glass in hand. Her gaze flicked between the two across the room — Jordan, effortlessly cool, leaning against the doorframe, and Donovan, sprawled across the armchair like he owned the place.

None of them said much, but the energy was thick. Tangible.

Jordan caught her glance and smirked. “You’re awfully quiet, Addi.”

She tilted her head slightly, lips curling. “Just enjoying the view.”

Donovan let out a low laugh. “You mean me or him?”

“Both,” she said, without hesitation.

That earned a glance between the two men — a silent exchange that said more than words ever could. Jordan finally moved from the wall, walking over to the couch with slow, confident steps. He sat beside her, close enough that his leg brushed against hers, just barely.

Addisyn didn’t move away.

Donovan stayed still at first, watching them like a storm building. Then he rose, slow and deliberate, circling around the back of the couch. His fingers brushed the side of her neck — a featherlight touch that made her eyes flutter shut for just a second.

The tension crackled.

“You know,” Jordan murmured near her ear, “we’ve both noticed the way you look at us.”

Addisyn turned slightly, heartbeat climbing. “And what if I’ve noticed the way you look at me?”

Donovan leaned down, voice smooth. “Then maybe it’s time we stop dancing around it.”

Jordan’s hand slipped to the small of her back. Donovan’s breath was warm against her neck. The air between them tightened, thick with heat, and for a moment — just a breathless moment — no one moved.

Three hearts, one spark.

And the night had only just begun.

🌒 "Late Heat" – Part 2: The Shift
Addisyn leaned into the tension, lips parted, but something shifted.

Not in her — in Donovan.

His gaze had moved, not to her, but across her — locked with Jordan’s. Not a glance, not curiosity. Something deeper. Something unspoken finally bubbling to the surface.

Jordan felt it too. That slow realization. The look that lingered just a little too long.

Addisyn blinked, sensing the change. “What?” she asked with a teasing smirk.

Neither of them answered right away.

Then Donovan let out a quiet breath, almost a laugh, as if finally giving in to something he’d been holding back.

“You know,” he murmured, stepping a little closer to Jordan, “I think I’ve been looking at you just as much as her.”

Jordan's eyes didn’t flinch. “Thought I imagined that.”

Donovan’s voice lowered. “You didn’t.”

Addisyn didn’t seem surprised — more intrigued, backing off the tension as if she knew she’d just sparked something else.

The space between the two guys closed fast. Not rushed. Not confused. Just undeniable.

And when Donovan leaned in — Jordan met him halfway.

It wasn’t dramatic. Just real. Honest. The kind of kiss that settles into place like it was always meant to happen.

Addisyn raised her glass with a grin, watching with an approving spark in her eyes. “Well,” she whispered to herself, “this night got even better than I expected.”

🌒 "Late Heat" – Part 3: No More Lines
The kiss between Jordan and Donovan slowed, but the heat didn’t leave the room — it just changed direction.

Addisyn watched, one brow arched, her smile soft but wicked. She stood up slowly, setting her glass down on the coffee table with a light clink.

“Alright,” she said, stepping toward them, her tone playful and precise. “That was hot… but don’t think I’m letting you two have all the fun.”

She reached for the hem of her top, teasing it upward — deliberate, slow, not for shock but for control. Donovan blinked, breath caught. Jordan didn’t look away.

She wasn’t just reclaiming the spotlight — she was rewriting it.

As the top slipped over her head and fell to the floor, silence dropped over the room like gravity. The tension wasn’t confused — it was magnetic. Balanced. Jordan’s eyes flicked from Donovan to Addisyn. Donovan stepped back slightly, just enough to take her in fully, but didn’t break the charge between them.

Jordan whispered, “So... what are we now?”

Addisyn stepped closer, hands brushing both their shoulders as she pulled them in.

“Not straight. Not gay. Not confused,” she said, lips close, voice velvet.
“Just... ourselves.”

The lines had blurred. The rules rewritten. And the three of them—Jordan, Donovan, and Addisyn—stood at the edge of something new. Not chaos. Not fantasy. Something real and raw and theirs.

A throuple with no need for explanation—only understanding.

🌒 "Late Heat" – Part 4: The Shift Beneath the Surface
The room was dim and warm, bodies close, breath heavier than before. Jordan sat back against the couch cushions, his shirt long forgotten. Donovan leaned near, one hand still resting on Jordan’s thigh, fingers lingering with a familiar boldness.

Addisyn stood over them — lips parted, chest rising and falling — but something had changed.

Not in her confidence. Not in the way she looked at them.

But in the way their eyes had started to see her.

Jordan’s gaze dropped, and for the first time, it wasn’t just want — it was curiosity. Realization. Donovan saw it too. The moment her jeans hugged her hips tighter as she stepped closer. The soft outline beneath her waistband, undeniable but unspoken — until now.

The room slowed.

Jordan blinked. Donovan shifted slightly. And Addisyn… paused.

She was no longer teasing. Her hands fell to her sides. “You see it,” she said, voice soft, almost guarded.

Jordan sat up straighter. “Yeah,” he said gently. “We do.”

Donovan's brow creased — not in discomfort, but in adjustment, as if gears in his brain were clicking into place.

Addisyn looked between them, the playful glow in her eyes dimming to something more vulnerable. “This is where it usually breaks,” she said, barely above a whisper. “Where the flirting stops. Where they say they’re not into that. Where I get told I should’ve said something sooner.”

There was silence.

Then Jordan stood, slow and deliberate. He stepped in close, reached out — not to grab, not to grope, but to brush a strand of hair behind her ear.

“Addisyn,” he said softly, “you don’t owe us an apology for being you.”

Donovan followed, stepping beside her, placing a hand lightly over her wrist. “You’re not a surprise,” he added. “You’re a whole damn revelation.”

Her eyes watered, just barely, but she smiled — like someone finally being seen without needing to explain why they deserved it.

And just like that, the tension returned — heavier, more magnetic. Not just desire, but truth. A spark that burned hotter because it was built on something real.

She leaned forward, pressing her forehead to Jordan’s shoulder. Donovan’s hand stayed over hers.

They weren’t a fantasy anymore. They were messy, tangled, real. And that was so much better.

🌘 "Late Heat" – Part 5: Fire and Fractures
It had been weeks since that night.

The three of them had become something between a secret and a sanctuary. Days blurred. Nights deepened. The connection between Jordan, Addisyn, and Donovan became less about boundaries and more about trust.

But trust is fragile.

And sometimes, heat hides fault lines.

Addisyn stood by the window that night, rain tapping the glass. Her hands trembled slightly, not from fear — but from the weight of a conversation she never wanted to start.

“I know what you did,” she said without turning around.

Behind her, Donovan sat on the edge of the bed, eyes shadowed.

Jordan stood between them, the silence suffocating.

Donovan’s jaw tightened. “It wasn’t like that.”

Addisyn turned. “You met with your ex behind my back, Donovan. Lied. Then came home like nothing happened.”

Jordan stepped forward. “Is that true?”

Donovan’s silence was answer enough.

The tension cracked, and Addisyn shook her head. “We trusted you. Both of us.”

Later that night, as Addisyn stormed out into the rain, Jordan stayed behind. Anger burned under his skin, but so did something else. A longing, not for clarity — but for understanding.

He turned to Donovan, emotions colliding.

“You lied to her,” Jordan said, voice low. “You broke something we built.”

Donovan looked up. “And you’re still here.”

The air between them shifted again, not with lust — but with raw emotion. Pain, regret, and a connection neither had words for.

“I don’t hate you,” Jordan admitted. “But I don’t know how to forgive you either.”

Donovan stepped closer, eyes rimmed with guilt. “Then don’t forgive me. Just feel something. Anything.”

Jordan’s voice cracked. “I already do.”

In that moment, anger turned to something else — grief, longing, and an unresolved ache that pulled them together in a reckless, silent embrace. Not to fix what was broken — but to acknowledge that it was.

Outside, Addisyn stood in the rain, not gone — just waiting.

Waiting to see if they would fall apart…
or finally face the truth of what they had become.

🌹 "Late Heat" – Part 6: The Return of the Chaos
It was three days later when Addisyn returned.

She didn’t knock.

She kicked the door open with enough force to knock a candle off the table, lightning flashing behind her like she was a gay storm goddess sent by the drama gods themselves.

Jordan dropped his cereal bowl in shock. “Addisyn—?!”

Donovan, who was wearing Jordan’s hoodie and nothing else, spat out his protein shake like a sitcom side character.

Addisyn stood there dripping rainwater, makeup flawless, a full dramatic trench coat on — for no reason, really — and said the line of a lifetime:

“Miss me, sluts?”

The tension in the room skyrocketed. Jordan blinked. Donovan blinked harder.

Addisyn took three slow steps inside, unbuttoning the trench coat like she was about to reveal a secret identity. Underneath?

A silk top, leather pants, and the confidence of a Bond villain in stilettos.

“You two thought you could fall apart without me and keep the spice? Please.”

Donovan tried to speak. “I—”

Addisyn raised a finger. “Shhh. Shirtless people don’t get to talk right now.”

Jordan nearly passed out from the hot-and-confused energy swirling in the room.

💥 Then, the Chaos Escalated:
Jordan backed up into the kitchen. Addisyn followed.
Donovan followed her.
Jordan tried to grab a water bottle but knocked over three forks and accidentally turned on the blender.

The blender screamed. So did they.

“Turn off the blender, Jordan!”
“I DIDN’T EVEN MEAN TO TURN IT ON, ADDISYN!”

Eventually, they all ended up in the living room — tangled on the couch, emotionally exhausted, half-laughing, half-breathless. The tension wasn't just romantic now — it was cosmic.

Addisyn looked at them both. “So… we doing this or what?”

Jordan raised an eyebrow. “You mean the emotional healing?”

Donovan smirked. “Or the passionate make-out session with feelings?”

Addisyn grinned. “Yes.”

🎭 Fade Out:
They didn’t fix everything that night.

But they did end up cuddling, laughing, sharing snacks shirtless, and accidentally ordering $87 worth of sushi they didn’t remember tapping “Confirm” on.

And somehow, in the chaos, the tears, and the tangled limbs…

They felt whole again.

🌴 "Late Heat" – Part 7: We’re Not Ready for the Resort
Somehow, someone (probably Donovan) had the brilliant idea:

“We should take a couples trip.”

Addisyn blinked. “We’re not a couple. We’re a throuple.”

Jordan raised a hand. “Also, we barely survived living in the same ZIP code.”

But it was too late. Flights were booked. A resort was chosen. And just like that, they were at the airport with three matching duffle bags and zero emotional preparation.

✈️ Day One: The Flight Was a Warning
Donovan got "randomly searched" by TSA because he packed handcuffs and claimed they were "for yoga."

Jordan brought zero chargers. Zero.
Addisyn screamed at the check-in desk because they put "Mr." on her boarding pass. The gate agent apologized in three languages and upgraded her seat.

The trio landed in Cancun deeply sweaty and already emotionally unstable.

🏝️ Day Two: Enter Chaz
He arrived like a cursed prophecy — sunburnt, shirtless, wearing seashell necklaces and speaking exclusively in riddles.

Chaz, the yoga instructor hired by the resort, introduced himself by saying:

“I once loved a cactus and it loved me back… painfully.”

Donovan: “Why is he so confusing yet kind of hot?”

Jordan: “He’s like a puzzle I want to solve but also throw into the ocean.”

Addisyn: “I will marry him if either of you steps out of line again.”

🍹 Day Three: The Emotional Meltdown (and a Piña Colada Fight)
During beach yoga (led by Chaz, of course), Jordan fell over during downward dog, knocking Donovan into a pineapple, which flew into Addisyn’s chest, and suddenly everyone was yelling.

Jordan: “YOU NEVER LISTEN TO ME.”
Donovan: “YOU THREW ME INTO PRODUCE.”
Addisyn: “I WORE COCONUT BRAS FOR THIS?!”

The bartender clapped once. “Drama hour begins early today.”

They stormed back to the villa, where everyone cried for 3 minutes and then cuddled silently in a hammock while Chaz sang sea shanties in the distance.

💘 Day Four: The Throuple Rises Again
After a sunrise heart-to-heart (read: three coffees and no shirts), they finally admitted it:

Jordan: “I’m scared of losing both of you.”
Donovan: “Same. Also, I love when you yell at me.”
Addisyn: “You’re both disasters. And I adore you.”

They kissed. All three. Genuinely. No chaos. No blender in the background. Just sun, sweat, and something terrifyingly close to growth.

✨ Bonus Scene: Chaz’s Wisdom
Later that night, over drinks, Chaz approached them slowly.

“You are three stars in one orbit. May your gravity never be jealous.”

And then he vanished into the sea. Like a hot, confusing cryptid.

        <!-- You can keep the full story content here or link to a separate file if you want -->
      </div>

      <div id="userStoriesContainer" style="margin-top: 2rem;">
        <!-- User added stories will appear here -->
      </div>
    </section>

    <!-- Add story section -->
    <section id="addStorySection" style="display:none;">
      <h1>Add a New Story</h1>
      <form id="storyForm">
        <label for="firstNameInput">First Name:</label>
        <input type="text" id="firstNameInput" name="firstName" placeholder="Enter your first name" required />

        <label for="lastNameInput">Last Name:</label>
        <input type="text" id="lastNameInput" name="lastName" placeholder="Enter your last name" required />

        <label for="titleInput">Story Title:</label>
        <input type="text" id="titleInput" name="title" placeholder="Enter story title" required />

        <label for="contentInput">Story Content:</label>
        <textarea id="contentInput" name="content" placeholder="Enter story content" required></textarea>

        <button type="submit" class="submit-btn">Add Story</button>
      </form>
    </section>
  </main>

  <footer>
    &copy; 2025 Corny Stories. All rights reserved.
  </footer>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-app.js";
    import { getFirestore, collection, getDocs, addDoc, deleteDoc, doc, query, orderBy } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyA11pEoYkNCIe6sQOMx15gt4YK7oJnGSis",
      authDomain: "corny-stories.firebaseapp.com",
      projectId: "corny-stories",
      storageBucket: "corny-stories.firebasestorage.app",
      messagingSenderId: "1048985672409",
      appId: "1:1048985672409:web:cc9460c35e68ab6f6ebcc8",
      measurementId: "G-FL9WHM0BVG"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // UI elements
    const btnStory = document.getElementById('btnStory');
    const btnAddStory = document.getElementById('btnAddStory');
    const storySection = document.getElementById('storySection');
    const addStorySection = document.getElementById('addStorySection');
    const storyForm = document.getElementById('storyForm');
    const userStoriesContainer = document.getElementById('userStoriesContainer');

    // Switch tabs
    btnStory.addEventListener('click', () => {
      btnStory.classList.add('active');
      btnAddStory.classList.remove('active');
      storySection.style.display = 'block';
      addStorySection.style.display = 'none';
      loadUserStories();
    });

    btnAddStory.addEventListener('click', () => {
      btnAddStory.classList.add('active');
      btnStory.classList.remove('active');
      addStorySection.style.display = 'block';
      storySection.style.display = 'none';
    });

    // Load user stories from Firestore and display
    async function loadUserStories() {
      userStoriesContainer.innerHTML = '<p>Loading stories...</p>';
      try {
        const storiesCol = collection(db, 'stories');
        const q = query(storiesCol, orderBy('createdAt', 'desc'));
        const querySnapshot = await getDocs(q);

        if (querySnapshot.empty) {
          userStoriesContainer.innerHTML = '<p>No user stories added yet.</p>';
          return;
        }

        userStoriesContainer.innerHTML = '';
        querySnapshot.forEach(docSnap => {
          const story = docSnap.data();
          const id = docSnap.id;

          const storyDiv = document.createElement('div');
          storyDiv.classList.add('story-content');
          storyDiv.innerHTML = `
            <div class="author">Author: ${escapeHtml(story.firstName)} ${escapeHtml(story.lastName)}</div>
            <h3>${escapeHtml(story.title)}</h3>
            <p>${escapeHtml(story.content).replace(/\n/g, '<br>')}</p>
          `;

          // Add Delete button ONLY if author matches localStorage user
          const storedFirstName = localStorage.getItem('authorFirstName');
          const storedLastName = localStorage.getItem('authorLastName');
          if (storedFirstName === story.firstName && storedLastName === story.lastName) {
            const deleteBtn = document.createElement('button');
            deleteBtn.classList.add('delete-btn');
            deleteBtn.textContent = 'Delete';
            deleteBtn.addEventListener('click', async () => {
              if (confirm('Are you sure you want to delete this story?')) {
                await deleteDoc(doc(db, 'stories', id));
                loadUserStories();
              }
            });
            storyDiv.appendChild(deleteBtn);
          }

          // Add audio button
          const audioBtn = document.createElement('button');
          audioBtn.classList.add('audio-btn');
          audioBtn.textContent = 'Listen';
          audioBtn.addEventListener('click', () => {
            speakText(`${story.title} by ${story.firstName} ${story.lastName}. ${story.content}`);
          });
          storyDiv.appendChild(audioBtn);

          userStoriesContainer.appendChild(storyDiv);
        });
      } catch (error) {
        userStoriesContainer.innerHTML = `<p>Error loading stories: ${error.message}</p>`;
      }
    }

    // Escape HTML to prevent injection
    function escapeHtml(text) {
      const map = {
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#039;',
      };
      return text.replace(/[&<>"']/g, m => map[m]);
    }

    // Form submit handler
    storyForm.addEventListener('submit', async (e) => {
      e.preventDefault();

      const firstName = storyForm.firstName.value.trim();
      const lastName = storyForm.lastName.value.trim();
      const title = storyForm.title.value.trim();
      const content = storyForm.content.value.trim();

      if (!firstName || !lastName || !title || !content) {
        alert('Please fill in all fields.');
        return;
      }

      try {
        await addDoc(collection(db, 'stories'), {
          firstName,
          lastName,
          title,
          content,
          createdAt: new Date()
        });

        // Save author to localStorage for delete permission
        localStorage.setItem('authorFirstName', firstName);
        localStorage.setItem('authorLastName', lastName);

        alert('Story added successfully!');
        storyForm.reset();
        btnStory.click(); // switch to stories tab to see new story
      } catch (error) {
        alert('Error adding story: ' + error.message);
      }
    });

    // Text-to-speech for story content
    function speakText(text) {
      if (!window.speechSynthesis) {
        alert('Sorry, your browser does not support speech synthesis.');
        return;
      }
      const utterance = new SpeechSynthesisUtterance(text);
      speechSynthesis.cancel(); // stop previous speech if any
      speechSynthesis.speak(utterance);
    }

    // Load user stories on initial page load
    btnStory.click();
  </script>
</body>
</html>
